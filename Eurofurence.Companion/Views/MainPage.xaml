<Page
    x:Class="Eurofurence.Companion.Views.MainPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Eurofurence.Companion.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:interactivity="using:Microsoft.Xaml.Interactivity"
    xmlns:core="using:Microsoft.Xaml.Interactions.Core"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Page.BottomAppBar>
        <CommandBar>
            <CommandBar.PrimaryCommands>
                <AppBarButton Icon="Caption" Label="Debug"
                Command="{Binding Source={StaticResource ViewModelLocator}, Path=NavigationViewModel.NavigateToDebugPage}" />
                <AppBarButton Icon="ContactInfo" Label="About"
                              Command="{Binding Source={StaticResource ViewModelLocator}, Path=NavigationViewModel.NavigateToAboutPage}"
                              ></AppBarButton>
            </CommandBar.PrimaryCommands>
            <!--<CommandBar.SecondaryCommands>
                <AppBarButton Icon="Caption" Label="Do About"></AppBarButton>
            </CommandBar.SecondaryCommands>-->
        </CommandBar>
    </Page.BottomAppBar>

    <Grid x:Name="LayoutRoot">



        <ScrollViewer>
        <!--TODO: Content should be placed within the following grid-->
        <Grid  x:Name="ContentRoot" Margin="19,9.5,19,0">
            <StackPanel>
                <ListView ItemsSource="{Binding Source={StaticResource ViewModelLocator}, Path=NavigationViewModel.MainMenu}">
                    <ListView.ItemContainerStyle>
                        <Style TargetType="ListViewItem">
                            <Setter Property="HorizontalAlignment" Value="Stretch"/>
                        </Style>
                    </ListView.ItemContainerStyle>
                    <ListView.ItemTemplate>
                        <DataTemplate>
                            <Grid HorizontalAlignment="Stretch">
                                <interactivity:Interaction.Behaviors>
                                    <interactivity:BehaviorCollection>
                                        <core:EventTriggerBehavior EventName="Tapped">
                                            <core:InvokeCommandAction Command="{Binding NavigationCommand}" />
                                        </core:EventTriggerBehavior>
                                    </interactivity:BehaviorCollection>
                                </interactivity:Interaction.Behaviors>

                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <Border VerticalAlignment="Top"  Margin="0,9.5,0,0" Width="60" Height="60"  Grid.Column="0" HorizontalAlignment="Left">
                                    <Viewbox Margin="5">
                                        <TextBlock FontFamily="{StaticResource EurofurenceAppIconsFontFamily}" Foreground="{ThemeResource PhoneAccentBrush}" Text="&#xE800;" />
                                    </Viewbox>
                                </Border>
         
                                <StackPanel  Grid.Column="1" Margin="15 5 0 0">
                                    <TextBlock Style="{StaticResource SubheaderTextBlockStyle}" Text="{Binding Title}" />
                                    <TextBlock Foreground="{ThemeResource PhoneMidBrush}"  Text="{Binding Description}" />
                                </StackPanel>

                            </Grid>

                        </DataTemplate>
                    </ListView.ItemTemplate>

                </ListView>


                

              
            </StackPanel>

        </Grid>
        </ScrollViewer>
    </Grid>
</Page>

    